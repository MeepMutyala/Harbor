<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Harbor</title>
    <link rel="stylesheet" href="design-tokens.css">
    <style>
        body {
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background pattern */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 20% 20%, var(--color-accent-primary-subtle) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, var(--color-success-subtle) 0%, transparent 50%),
                var(--color-bg-base);
            z-index: -1;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-12) var(--space-6);
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: var(--space-10);
        }

        .logo {
            font-size: 64px;
            margin-bottom: var(--space-5);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .header h1 {
            font-size: var(--text-3xl);
            font-weight: var(--weight-bold);
            margin-bottom: var(--space-4);
            background: linear-gradient(135deg, var(--color-text-primary) 0%, var(--color-accent-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: var(--tracking-tight);
        }

        .tagline {
            font-size: var(--text-lg);
            color: var(--color-text-secondary);
            max-width: 500px;
            margin: 0 auto;
            line-height: var(--leading-relaxed);
        }

        .version-badge {
            display: inline-block;
            background: var(--color-surface-primary);
            color: var(--color-accent-primary);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            margin-top: var(--space-5);
            border: 1px solid var(--color-border-default);
        }

        /* Setup Steps */
        .setup-section {
            margin-bottom: var(--space-10);
        }

        .section-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            color: var(--color-text-primary);
        }

        .section-title .number {
            background: linear-gradient(135deg, var(--color-accent-primary) 0%, #7c3aed 100%);
            width: 36px;
            height: 36px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-bold);
            color: white;
        }

        .card {
            background: var(--color-surface-primary);
            border: 1px solid var(--color-border-default);
            border-radius: var(--radius-md);
            padding: var(--space-6);
            margin-bottom: var(--space-5);
        }

        .card h3 {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            margin-bottom: var(--space-3);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            color: var(--color-text-primary);
        }

        .card p {
            color: var(--color-text-secondary);
            line-height: var(--leading-relaxed);
            margin-bottom: var(--space-4);
        }

        .card ul {
            color: var(--color-text-secondary);
            line-height: 1.8;
            padding-left: var(--space-5);
        }

        .card li {
            margin-bottom: var(--space-2);
        }

        .card code {
            background: var(--color-code-bg);
            padding: 2px var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--color-code-keyword);
        }

        /* Highlight box */
        .highlight-box {
            background: var(--color-accent-primary-subtle);
            border: 1px solid var(--color-accent-primary-muted);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin-top: var(--space-4);
        }

        .highlight-box h4 {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            margin-bottom: var(--space-2);
            color: var(--color-accent-primary);
        }

        .highlight-box p {
            font-size: var(--text-sm);
            margin-bottom: 0;
            color: var(--color-text-secondary);
        }

        /* Warning box */
        .warning-box {
            background: var(--color-warning-subtle);
            border: 1px solid var(--color-warning-muted);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin-top: var(--space-4);
        }

        .warning-box h4 {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            margin-bottom: var(--space-2);
            color: var(--color-warning);
        }

        .warning-box p {
            font-size: var(--text-sm);
            margin-bottom: 0;
        }

        .warning-box a {
            color: var(--color-warning);
            text-decoration: underline;
        }

        /* Provider Options */
        .provider-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: var(--space-3);
            margin-top: var(--space-4);
        }

        .provider-option {
            background: var(--color-bg-subtle);
            border: 1px solid var(--color-border-default);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            text-align: center;
            transition: all var(--transition-fast);
        }

        .provider-option.recommended {
            border-color: var(--color-accent-primary);
            border-width: 2px;
        }

        .provider-option:hover {
            border-color: var(--color-accent-primary);
            background: var(--color-surface-primary);
        }

        .provider-option .icon {
            font-size: var(--text-2xl);
            margin-bottom: var(--space-2);
        }

        .provider-option h4 {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            margin-bottom: var(--space-1);
            color: var(--color-text-primary);
        }

        .provider-option p {
            font-size: var(--text-xs);
            color: var(--color-text-muted);
            margin-bottom: 0;
        }

        /* CTA */
        .cta {
            text-align: center;
            background: var(--color-surface-primary);
            border: 1px solid var(--color-border-default);
            border-radius: var(--radius-md);
            padding: var(--space-10);
            margin-bottom: var(--space-8);
        }

        .cta h2 {
            font-size: var(--text-2xl);
            font-weight: var(--weight-bold);
            margin-bottom: var(--space-4);
            color: var(--color-text-primary);
        }

        .cta p {
            color: var(--color-text-secondary);
            margin-bottom: var(--space-6);
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-group {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-lg {
            height: 44px;
            padding: 0 var(--space-6);
            font-size: var(--text-base);
        }

        .btn-primary.btn-lg {
            background: linear-gradient(135deg, var(--color-accent-primary) 0%, #7c3aed 100%);
            border-color: transparent;
            box-shadow: 0 4px 20px var(--color-accent-primary-subtle);
        }

        .btn-primary.btn-lg:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px var(--color-accent-primary-muted);
        }

        /* Links */
        .links {
            display: flex;
            justify-content: center;
            gap: var(--space-8);
            flex-wrap: wrap;
        }

        .links a {
            color: var(--color-text-muted);
            text-decoration: none;
            font-size: var(--text-sm);
            display: flex;
            align-items: center;
            gap: var(--space-1);
            transition: color var(--transition-fast);
        }

        .links a:hover {
            color: var(--color-accent-primary);
        }

        .footer {
            text-align: center;
            padding: var(--space-8) 0;
            color: var(--color-text-muted);
            font-size: var(--text-sm);
        }

        /* Status bar */
        .status-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--color-surface-primary);
            border-top: 1px solid var(--color-border-default);
            padding: var(--space-3) var(--space-6);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-3);
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: var(--radius-full);
            background: var(--color-success);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-text {
            font-size: var(--text-sm);
            color: var(--color-text-secondary);
        }

        /* Runtime status grid */
        .runtime-grid {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
            margin: var(--space-4) 0;
        }

        .runtime-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            background: var(--color-bg-subtle);
            border-radius: var(--radius-sm);
            border: 1px solid var(--color-border-default);
        }

        .runtime-icon {
            font-size: var(--text-xl);
        }

        .runtime-name {
            font-weight: var(--weight-semibold);
            color: var(--color-text-primary);
            flex: 1;
        }

        .runtime-status {
            font-size: var(--text-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-weight: var(--weight-medium);
        }

        .runtime-status.checking {
            background: var(--color-bg-subtle);
            color: var(--color-text-muted);
        }

        .runtime-status.available {
            background: var(--color-success-subtle);
            color: var(--color-success);
        }

        .runtime-status.unavailable {
            background: var(--color-error-subtle);
            color: var(--color-error);
        }

        .runtime-status.optional {
            background: var(--color-warning-subtle);
            color: var(--color-warning);
        }

        @media (max-width: 600px) {
            .header h1 { font-size: var(--text-2xl); }
            .provider-grid { grid-template-columns: 1fr 1fr; }
            .btn-group { flex-direction: column; }
            .btn-lg { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    
    <div class="container">
        <header class="header">
            <div class="logo">‚öì</div>
            <h1>Welcome to Harbor</h1>
            <span class="version-badge" id="version-badge">v0.0.0</span>
        </header>

        <!-- Runtime Status Check -->
        <section class="setup-section" id="runtime-check-section">
            <h2 class="section-title">
                <span class="number">‚úì</span>
                System Capabilities
            </h2>
            <div class="card">
                <h3>üîß What can Harbor do on your system?</h3>
                <p>
                    Harbor checks for runtimes to determine which MCP servers you can run.
                    Here's what we found:
                </p>
                
                <div id="runtime-status-grid" class="runtime-grid">
                    <div class="runtime-item" id="runtime-docker">
                        <span class="runtime-icon">üê≥</span>
                        <span class="runtime-name">Docker</span>
                        <span class="runtime-status checking" id="docker-status-badge">Checking...</span>
                    </div>
                    <div class="runtime-item" id="runtime-python">
                        <span class="runtime-icon">üêç</span>
                        <span class="runtime-name">Python</span>
                        <span class="runtime-status checking" id="python-status-badge">Checking...</span>
                    </div>
                    <div class="runtime-item" id="runtime-node">
                        <span class="runtime-icon">üì¶</span>
                        <span class="runtime-name">Node.js</span>
                        <span class="runtime-status checking" id="node-status-badge">Checking...</span>
                    </div>
                </div>
                
                <div id="capabilities-message" class="highlight-box" style="display: none;">
                    <h4 id="capabilities-title">üí° Your Setup</h4>
                    <p id="capabilities-text"></p>
                </div>
                
                <div id="missing-warning" class="warning-box" style="display: none;">
                    <h4>‚ö†Ô∏è Limited Capabilities</h4>
                    <p id="missing-warning-text"></p>
                </div>
            </div>
        </section>

        <!-- Step 1: Docker -->
        <section class="setup-section" id="docker-section">
            <h2 class="section-title">
                <span class="number">1</span>
                Start Docker Desktop
            </h2>
            <div class="card">
                <h3>üê≥ Docker is Recommended for MCP Servers</h3>
                <p>
                    MCP servers can run in Docker containers for security and isolation. 
                    Docker gives you access to the widest range of MCP servers.
                </p>
                <div class="warning-box" id="docker-install-prompt" style="display: none;">
                    <h4>‚ö†Ô∏è Docker not detected</h4>
                    <p>
                        Download Docker Desktop from 
                        <a href="https://www.docker.com/products/docker-desktop/" target="_blank">docker.com</a>. 
                        It's free for personal use.
                    </p>
                </div>
                <div class="highlight-box" id="docker-ready-message" style="display: none;">
                    <h4>‚úì Docker is ready!</h4>
                    <p>
                        You can run any MCP server, including those with native dependencies.
                    </p>
                </div>
            </div>
        </section>

        <!-- Step 2: Configure LLM -->
        <section class="setup-section">
            <h2 class="section-title">
                <span class="number">2</span>
                Configure Your AI Model
            </h2>
            <div class="card">
                <h3>ü§ñ Choose an LLM Provider</h3>
                <p>
                    Harbor needs an AI model to power conversations and tool use. 
                    Open the Harbor sidebar and go to <strong>Settings ‚Üí LLM</strong> to configure one.
                </p>
                
                <div class="provider-grid">
                    <div class="provider-option recommended">
                        <div class="icon">ü¶ô</div>
                        <h4>Ollama</h4>
                        <p>Run models locally, free</p>
                    </div>
                    <div class="provider-option recommended">
                        <div class="icon">üì¶</div>
                        <h4>Llamafile</h4>
                        <p>Portable local LLM</p>
                    </div>
                    <div class="provider-option">
                        <div class="icon">üü¢</div>
                        <h4>OpenAI</h4>
                        <p>GPT-4o (API key)</p>
                    </div>
                    <div class="provider-option">
                        <div class="icon">üü†</div>
                        <h4>Anthropic</h4>
                        <p>Claude 3.5 (API key)</p>
                    </div>
                </div>

                <div class="highlight-box">
                    <h4>üí° Local-First</h4>
                    <p>
                        Harbor is designed for local AI. Try <strong>Ollama</strong> or <strong>Llamafile</strong> 
                        to run models on your own machine‚Äîno API keys, no data leaving your computer.
                        Remote providers (OpenAI, Anthropic) also work if you prefer.
                    </p>
                </div>
            </div>
        </section>

        <!-- Step 3: Install Time Server -->
        <section class="setup-section">
            <h2 class="section-title">
                <span class="number">3</span>
                Install Your First MCP Server
            </h2>
            <div class="card">
                <h3>üïê Install the Time Server</h3>
                <p>
                    The Time server is a simple MCP server that lets your AI get the current time, 
                    convert timezones, and work with dates. It's perfect for testing that everything works.
                </p>
                
                <p><strong>To install:</strong></p>
                <ul>
                    <li>Open the Harbor sidebar (click ‚öì in the browser)</li>
                    <li>Go to the <strong>Servers</strong> tab</li>
                    <li>Find <strong>"Time"</strong> in the curated list</li>
                    <li>Click <strong>Install</strong>, then <strong>Start</strong></li>
                </ul>

                <div class="highlight-box">
                    <h4>üß™ Test It!</h4>
                    <p>
                        Once installed, try asking your AI: <code>"What time is it in Tokyo?"</code>
                        You should see it call the Time server's tools.
                    </p>
                </div>
            </div>
        </section>

        <!-- Step 4: Try the Demo -->
        <section class="setup-section">
            <h2 class="section-title">
                <span class="number">4</span>
                Try the Demo
            </h2>
            <div class="card">
                <h3>üöÄ Test Harbor with the Interactive Demo</h3>
                <p>
                    The demo page shows how web pages can use Harbor's <code>window.ai</code> and 
                    <code>window.agent</code> APIs to access AI and MCP tools.
                </p>
                <p>
                    <strong>What you can try:</strong>
                </p>
                <ul>
                    <li>Chat with your configured AI model</li>
                    <li>Ask questions that use the Time server</li>
                    <li>See how tool calls work in real-time</li>
                </ul>
            </div>
        </section>

        <!-- CTA -->
        <section class="cta">
            <h2>Ready to go?</h2>
            <p>Open the Harbor sidebar to configure your LLM and install servers, or try the demo!</p>
            <div class="btn-group">
                <a href="https://r.github.io/Harbor/demo/" class="btn btn-primary btn-lg" target="_blank">
                    üöÄ Open Demo
                </a>
                <a href="https://github.com/r/Harbor" class="btn btn-secondary btn-lg" target="_blank">
                    üìñ Documentation
                </a>
            </div>
        </section>

        <nav class="links">
            <a href="https://github.com/r/Harbor" target="_blank">GitHub</a>
            <a href="https://github.com/r/Harbor/issues" target="_blank">Report Issues</a>
            <a href="https://github.com/r/Harbor/discussions" target="_blank">Community</a>
        </nav>

        <footer class="footer">
            <p>
                Harbor is open source software under the MIT license.<br>
                <span style="font-size: var(--text-xs); opacity: 0.7;">¬© 2025-2026 Raffi Krikorian</span>
            </p>
        </footer>
    </div>

    <div class="status-bar">
        <div class="status-dot"></div>
        <span class="status-text">Harbor is installed ‚Äî Open the sidebar (‚öì) to get started</span>
    </div>

    <script src="welcome.js"></script>
</body>
</html>
